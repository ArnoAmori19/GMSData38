INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_АкцизПоПартии', N'БДПроцедура(''b_GetCstExcCC'',  ВСтроку(Товар) + '';''+ ВСтроку(Партия), ''@ExcCC'')', N'БДПроцедура(''b_GetCstExcCC'',  STR(CurrentDS.ProdID) + '';''+ STR(CurrentDS.PPID), ''@ExcCC'')', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_ВС_ЗачетЗадолженности', N'ЕСЛИ(Параметр 1 <= 0, 0, ЕСЛИ(Параметр 2 <= Параметр 1, Параметр 2, Параметр 1))', N'IF(#op1# <= 0, 0, IF(#op2# <= #op1#, #op2#, #op1#))', N'', N'', N'', N'', N'Возвращает сумму с НДС, используемую в проводке зачета задолженностей при приходовании товара, услуги по второму событию. Параметр 1 - ссыллка на поле с сальдо по счету взаиморасчетов, Параметр 2 - ссыллка на поле суммы с НДС', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_ВС_НДС', N'ЕСЛИ(Параметр 1 <= 0, 0, ЕСЛИ(Параметр 2 <= Параметр 1, Параметр 2, Параметр 1))', N'IF(#op1# <= 0, 0, IF(#op2# <= #op1#, #op2#, #op1#))', N'', N'', N'', N'', N'Возвращает сумму НДС по второму событию при приходовании ТМЦ. Параметр 1 - ссыллка на поле с НДС сальдо по счету взаиморасчетов. Параметр 2 - ссыллка на поле суммы НДС', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_ВС_РасчетныйСчетПриход', N'ЕСЛИ((((Счет документа >= 36100) И (Счет документа <= 36199)) И (Сальдо документа, с НДС >= 0)) ИЛИ (((Счет документа >= 37700) И (Счет документа <= 37799)) И (Сальдо документа, с НДС <= 0)), 0, ЕСЛИ(Параметр 1 <= МОДУЛЬЧИСЛА(Сальдо документа, с НДС), Пар', N'IF((((CurrentDS.GTAccID >= 36100) AND (CurrentDS.GTAccID <= 36199)) AND (CurrentDS.GTSum_wt >= 0)) OR (((CurrentDS.GTAccID >= 37700) AND (CurrentDS.GTAccID <= 37799)) AND (CurrentDS.GTSum_wt <= 0)), 0, IF(#op1# <= МОДУЛЬЧИСЛА(CurrentDS.GTSum_wt), #op1#, М', N'аметр 1, МОДУЛЬЧИСЛА(Сальдо документа, с НДС)))', N'ОДУЛЬЧИСЛА(CurrentDS.GTSum_wt)))', N'', N'', N'Возвращает сумму с НДС, которую нужно провести по второму событию при поступлении денег на расчетный счет за отгруженные товары, оказанные услуги. Параметр 1 - ссылка на эту сумму', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_ВС_РасчетныйСчетРасход', N'ЕСЛИ(Сальдо документа, с НДС <= 0, 0, ЕСЛИ(Сумма с НДС <= Сальдо документа, с НДС, Сумма с НДС, Сальдо документа, с НДС))', N'IF(CurrentDS.GTSum_wt <= 0, 0, IF(CurrentDS.SumCC_wt <= CurrentDS.GTSum_wt, CurrentDS.SumCC_wt, CurrentDS.GTSum_wt))', N'', N'', N'', N'', N'Возвращает сумму с НДС, которую нужно провести по второму событию при оплате за полученные товары, работы, услуги', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_ЗемельныйУчасток', N'IF(БДПОИСК(ACatID, ''r_AssetH'',''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC'') = 101, 1, 0)', N'IF(БДПОИСК(ACatID, ''r_AssetH'',''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC'') = 101, 1, 0)', N'', N'', N'', N'', N'Возвращает 1, если основное средство в текущем наборе данных является щземельным участком, в противном случае возвращает 0', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_КатегорияОС', N'IF(БДПОИСК(r_AssetH.ACatID, r_AssetH,''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC'') = #op1#, #op2#, 0)', N'IF(БДПОИСК(r_AssetH.ACatID, r_AssetH,''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC'') = #op1#, #op2#, 0)', N'', N'', N'', N'', N'Если код категории основного средства совпадает с указанным в Параметре 1, возвращает сумму, указанную в Параметре 2, иначе возвращает 0.', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_КатегорияОС_Исключить', N'IF(БДПОИСК(r_AssetH.ACatID, r_AssetH,''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC'') <> #op1#, #op2#, 0)', N'IF(БДПОИСК(r_AssetH.ACatID, r_AssetH,''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC'') <> #op1#, #op2#, 0)', N'', N'', N'', N'', N'Если код категории ОС совпадает с введенным в Параметре 1,  возвращает 0, иначе возврашает значение, указанное в Параметре 2', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_КатегорияПерсонала', N'БДПОИСК(BOldPersCat, ''Справочник служащих (Внутренние фирмы)'', Справочник служащих (Внутренние фирмы).Код служащего = Код служащего И Справочник служащих (Внутренние фирмы).Код фирмы = Код фирмы)', N'БДПОИСК(BOldPersCat, ''r_EmpMO'', r_EmpMO.EmpID = CurrentDS.EmpID AND r_EmpMO.OurID = CurrentDS.OurID)', N'', N'', N'', N'', N'Возвращает код категории персонала из справочника служащих (закладка "Фирмы")', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_КодКатегорииОС', N'БДПОИСК(r_AssetH.ACatID, r_AssetH,''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC'')', N'БДПОИСК(r_AssetH.ACatID, r_AssetH,''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC'')', N'', N'', N'', N'', N'Возвращает код категории необоротного актива из справочника ОС', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_КодКатегорииТМЦ', N'БДПОИСК(Код бухгалтерской категории ТМЦ, ''Справочник товаров'', Справочник товаров.Код товара = Код товара)', N'БДПОИСК(PBGrID, ''r_Prods'', r_Prods.ProdID = CurrentDS.ProdID)', N'', N'', N'', N'', N'Возвращает код бухгалтерской категории ТМЦ', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_КоэффициентВозмещения', N'2', N'2', N'', N'', N'', N'', N'Возвращает коэффициент для расчета суммы возмещения недостачи виновным лицом', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_Наценка', N'(БУ_ЦенаРеализацииКЦП(0, 0, 0) - БУ_Себестоимость(0, 0, 0))', N'(БУ_ЦЕНАРЕАЛИЗАЦИИКЦП(0, 0, 0) - БУ_СЕБЕСТОИМОСТЬ(0, 0, 0))', N'', N'', N'', N'', N'Возвращает сумму торговой наценки, рассчитанную на основе данных из КЦП', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_НЗ_ПФсПредприятия', N'ЕСЛИ(ЗК_ПараметрыСотрудника(Код служащего, ДатуВСтроку(Дата, 0), ВСТРОКУ(Код фирмы) + '';21'') = 0, ЕСЛИ(Параметр 1 <= Параметр 2, Параметр 1 * (НЗ_БУ_СПредпрПФ(0, 0, 0) / 100), Параметр 2 * (НЗ_БУ_СПредпрПФ(0, 0, 0) / 100)), ЕСЛИ(Параметр 1 <= Параметр 2', N'IF(ЗК_ПараметрыСотрудника(CurrentDS.EmpID, ДатуВСтроку(CurrentDS.DocDate, 0), STR(CurrentDS.OurID) + '';21'') = 0, IF(#op1# <= #op2#, #op1# * (НЗ_БУ_СПРЕДПРПФ(0, 0, 0) / 100), #op2# * (НЗ_БУ_СПРЕДПРПФ(0, 0, 0) / 100)), IF(#op1# <= #op2#, #op1# * (НЗ_БУ_СП', N', Параметр 1 * (НЗ_БУ_СПредпрПФ_льгота(0, 0, 0) / 100), Параметр 2 * (НЗ_БУ_СПредпрПФ_льгота(0, 0, 0) / 100)))', N'РЕДПРПФ_ЛЬГОТА(0, 0, 0) / 100), #op2# * (НЗ_БУ_СПРЕДПРПФ_ЛЬГОТА(0, 0, 0) / 100)))', N'', N'', N'Возвращает сумму начисления на зарплату в Пенсионный фонд. Параметр 1 - База налогообложения. Параметр 2 - Максимально облагаемая сумма', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_НоваяНаценка', N'(БУ_ЦенаРеализацииНоваяКЦП(0, 0, 0) - БУ_НоваяСебестоимость(0, 0, 0))', N'(БУ_ЦЕНАРЕАЛИЗАЦИИНОВАЯКЦП(0, 0, 0) - БУ_НОВАЯСЕБЕСТОИМОСТЬ(0, 0, 0))', N'', N'', N'', N'', N'Возвращает сумму наценки из новой КЦП (для документа "Переоценка партий ТМЦ")', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_НоваяСебестоимость', N'БДПОИСК(Себестоимость ЛВ, ''Справочник товаров (Цены прихода Бухгалтерии)'', Справочник товаров (Цены прихода Бухгалтерии).Код товара = Код товара И Справочник товаров (Цены прихода Бухгалтерии).КЦП = Новый КЦП)', N'БДПОИСК(CostAC, ''b_PInP'', b_PInP.ProdID = CurrentDS.ProdID AND b_PInP.PPID = CurrentDS.NewPPID)', N'', N'', N'', N'', N'Возвращает себестоимость из новой КЦП данного товара (для документа "Переоценка партий ТМЦ")', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_ОсновноеСредство', N'0.00', N'0.00', N'', N'', N'', N'', N'Возвращает 1, если объект из справочника ОС является основным средством, иначе возвращает 0', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_ПервоначальнаяСтоимостьОС', N'БДПОИСК(r_AssetH.PriceCC_nt, r_AssetH,''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC'')', N'БДПОИСК(r_AssetH.PriceCC_nt, r_AssetH,''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC'')', N'', N'', N'', N'', N'Возвращает первоначальную стоимость ОС', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_ПроизводственноеОС', N'МОДУЛЬЧИСЛА(БДПОИСК(IsProdAss, ''r_AssetH'',''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC''))', N'МОДУЛЬЧИСЛА(БДПОИСК(IsProdAss, ''r_AssetH'',''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC''))', N'', N'', N'', N'', N'Возвращает 1, если ОС является производственным, в противном случае возвращает 0', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_Процент', N'ЕСЛИ(Параметр 3 = 1, (Параметр 1 / (100 + Параметр 2)) * Параметр 2, (Параметр 1 / 100) * Параметр 2)', N'IF(#op3# = 1, (#op1# / (100 + #op2#)) * #op2#, (#op1# / 100) * #op2#)', NULL, NULL, NULL, NULL, N'Возвращает процент от суммы.', N'Сумма', N'Процент (%)', N'Если равен 1, вычисляется включенный в сумму процент, иначе процент от суммы.', 0)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_ПС_НДС', N'ЕСЛИ(Параметр 1 <= 0, Параметр 2, ЕСЛИ(Параметр 2 <= Параметр 1, 0, Параметр 2 - Параметр 1))', N'IF(#op1# <= 0, #op2#, IF(#op2# <= #op1#, 0, #op2# - #op1#))', N'', N'', N'', N'', N'Возвращает сумму НДС по первому событию при приходовании ТМЦ. Параметр 1 - ссыллка на поле с НДС сальдо по счету взаиморасчетов. Параметр 2 - ссыллка на поле суммы НДС', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_ПС_РасчетныйСчетПриход', N'ЕСЛИ((((Счет документа >= 36100) И (Счет документа <= 36199)) И (Сальдо документа, с НДС >= 0)) ИЛИ (((Счет документа >= 37700) И (Счет документа <= 37799)) И (Сальдо документа, с НДС <= 0)), Параметр 1, ЕСЛИ(Параметр 1 <= МОДУЛЬЧИСЛА(Сальдо документа, с ', N'IF((((CurrentDS.GTAccID >= 36100) AND (CurrentDS.GTAccID <= 36199)) AND (CurrentDS.GTSum_wt >= 0)) OR (((CurrentDS.GTAccID >= 37700) AND (CurrentDS.GTAccID <= 37799)) AND (CurrentDS.GTSum_wt <= 0)), #op1#, IF(#op1# <= МОДУЛЬЧИСЛА(CurrentDS.GTSum_wt), 0, (', N'НДС), 0, (Параметр 1 - МОДУЛЬЧИСЛА(Сальдо документа, с НДС))))', N'#op1# - МОДУЛЬЧИСЛА(CurrentDS.GTSum_wt))))', N'', N'', N'Возвращает сумму с НДС полученной предоплаты за товар, услугу, которая должна быть проведена по первому событию. Параметр 1 - ссылка на эту сумму.', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_ПС_РасчетныйСчетПриход_НДС', N'ЕСЛИ((((Счет документа >= 36100) И (Счет документа <= 36199)) И (НДС сальдо документа >= 0)) ИЛИ (((Счет документа >= 37700) И (Счет документа <= 37799)) И (НДС сальдо документа <= 0)), Параметр 1, ЕСЛИ(Параметр 1 <= МОДУЛЬЧИСЛА(НДС сальдо документа), 0, ', N'IF((((CurrentDS.GTAccID >= 36100) AND (CurrentDS.GTAccID <= 36199)) AND (CurrentDS.GTTaxSum >= 0)) OR (((CurrentDS.GTAccID >= 37700) AND (CurrentDS.GTAccID <= 37799)) AND (CurrentDS.GTTaxSum <= 0)), #op1#, IF(#op1# <= МОДУЛЬЧИСЛА(CurrentDS.GTTaxSum), 0, (', N'(Параметр 1 - МОДУЛЬЧИСЛА(НДС сальдо документа))))', N'#op1# - МОДУЛЬЧИСЛА(CurrentDS.GTTaxSum))))', N'', N'', N'Возвращает сумму НДС, которая должна быть проведена по первому событию при получении предоплаты за товар, услугу. Параметр 1 - ссылка на эту сумму.', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_ПС_РасчетныйСчетРасход', N'ЕСЛИ(Сальдо документа, с НДС <= 0, Сумма с НДС, ЕСЛИ(Сумма с НДС <= Сальдо документа, с НДС, 0, Сумма с НДС - Сальдо документа, с НДС))', N'IF(CurrentDS.GTSum_wt <= 0, CurrentDS.SumCC_wt, IF(CurrentDS.SumCC_wt <= CurrentDS.GTSum_wt, 0, CurrentDS.SumCC_wt - CurrentDS.GTSum_wt))', N'', N'', N'', N'', N'Возвращает сумму предоплаты с НДС, которая должна быть проведена по первому событию', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_ПС_РасчетныйСчетРасход_НДС', N'ЕСЛИ(НДС сальдо документа <= 0, Сумма НДС, ЕСЛИ(Сумма НДС <= НДС сальдо документа, 0, Сумма НДС - НДС сальдо документа))', N'IF(CurrentDS.GTTaxSum <= 0, CurrentDS.TaxSum, IF(CurrentDS.TaxSum <= CurrentDS.GTTaxSum, 0, CurrentDS.TaxSum - CurrentDS.GTTaxSum))', N'', N'', N'', N'', N'Возвращает сумму НДС (налоговый кредит) при предоплате (первое событие)', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_Себестоимость', N'БДПОИСК(Справочник товаров (Цены прихода Бухгалтерии).Себестоимость ЛВ, Справочник товаров (Цены прихода Бухгалтерии), Справочник товаров (Цены прихода Бухгалтерии).Код товара = Код товара И Справочник товаров (Цены прихода Бухгалтерии).КЦП = КЦП)', N'БДПОИСК(b_PInP.CostAC, b_PInP, b_PInP.ProdID = CurrentDS.ProdID AND b_PInP.PPID = CurrentDS.PPID)', N'', N'', N'', N'', N'Возвращает себестоимость реализуемого товара из таблицы "Цены прихода Бухгалтерии"', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_Себестоимость_Торговля', N'БДПОИСК(Справочник товаров (Цены прихода Торговли).Себестоимость ВС, Справочник товаров (Цены прихода Торговли), Справочник товаров (Цены прихода Торговли).Код товара = Код товара И Справочник товаров (Цены прихода Торговли).КЦП = КЦП) * Количество', N'БДПОИСК(t_PInP.CostCC, t_PInP, t_PInP.ProdID = CurrentDS.ProdID AND t_PInP.PPID = CurrentDS.PPID) * CurrentDS.Qty', N'', N'', N'', N'', N'Возвращает себестоимость реализуемого товара из таблицы "Цены прихода Торговли". Используйте, если производится копирование из Торговли в Бухгалтерию', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_СтавкаНДС', N'БДФункция(''zf_GetProdTaxPercent'',  ВСТРОКУ(CurrentDS.ProdID) + '';'' + ДатуВСтроку(CurrentDS.DocDate)) / 100', N'БДФункция(''zf_GetProdTaxPercent'',  STR(CurrentDS.ProdID) + '';'' + ДатуВСтроку(CurrentDS.DocDate)) / 100', N'', N'', N'', N'', N'Возвращает ставку НДС (в долях от единицы) по конкретному товару', N'', N'', N'', 0)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_СтатусПредприятия', N'МОДУЛЬЧИСЛА(БДПОИСК(Справочник предприятий.Плательщик НДС, Справочник предприятий, Справочник предприятий.Код предприятия = Код предприятия))', N'МОДУЛЬЧИСЛА(БДПОИСК(r_Comps.TaxPayer, r_Comps, r_Comps.CompID = CurrentDS.CompID))', N'', N'', N'', N'', N'Возвращает 1, если предприятие является плательщиком НДС, и 0 - если не является', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_СтатусПредприятияИзКЦП', N'МОДУЛЬЧИСЛА(БДПОИСК(Справочник предприятий.Плательщик НДС, ''Справочник предприятий'' + '','' + ''Справочник товаров (Цены прихода Бухгалтерии)'', Справочник товаров (Цены прихода Бухгалтерии).Код товара = Код товара И Справочник товаров (Цены прихода Бух', N'МОДУЛЬЧИСЛА(БДПОИСК(r_Comps.TaxPayer, ''r_Comps'' + '','' + ''b_PInP'', b_PInP.ProdID = CurrentDS.ProdID AND b_PInP.PPID = CurrentDS.PPID AND b_PInP.CompID = r_Comps.CompID))', N'галтерии).КЦП = КЦП И Справочник товаров (Цены прихода Бухгалтерии).Код предприятия = Справочник предприятий.Код предприятия))', N'', N'', N'', N'Возвращает 1, если предприятие из КЦП является плательщиком НДС, и 0 - если не является', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_СубсчетИзВалютныйСчетЛВ', N'БДПОИСК(Справочник внутренних фирм - Валютные счета.Код счета, Справочник внутренних фирм - Валютные счета, Справочник внутренних фирм - Валютные счета.В\Счет Фирмы = В\Счет Фирмы)', N'БДПОИСК(r_OursAC.GAccID, r_OursAC, r_OursAC.AccountAC = CurrentDS.AccountAC)', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_СубсчетИзРасчетныйСчетВС', N'БДПОИСК(Справочник внутренних фирм - Расчетные счета.Код счета, Справочник внутренних фирм - Расчетные счета, Справочник внутренних фирм - Расчетные счета.Р\Счет Фирмы = Р\Счет Фирмы)', N'БДПОИСК(r_OursCC.GAccID, r_OursCC, r_OursCC.AccountCC = CurrentDS.AccountCC)', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_СчетАкцизныеМарки', N'20600', N'20600', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_СчетАкцизныйСбор', N'28500', N'28500', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_СчетЗатрат', N'ЕСЛИ(Параметр 1 <> 0, Параметр 1 * 100, 94900)', N'IF(#op1# <> 0, #op1# * 100, 94900)', N'', N'', N'', N'', N'Возвращает код счета затрат 9 класса. Параметр 1 - ссылка на поле, содержащее код счета затрат. Если код счета затрат не выбран - возвращает 949 счет', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_СчетЗатратЗарплаты', N'ЕСЛИ(Параметр 1 = 0, 91000, ЕСЛИ(Параметр 1 = 1, 92000, ЕСЛИ(Параметр 1 = 2, 94100, ЕСЛИ(Параметр 1 = 3, 94900, 93000))))', N'IF(#op1# = 0, 91000, IF(#op1# = 1, 92000, IF(#op1# = 2, 94100, IF(#op1# = 3, 94900, 93000))))', N'', N'', N'', N'', N'Возвращает код счета затрат 9 класса, используемый при начислении зарплаты. Параметр 1 - функция, возвращающая код категории персонала', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_СчетЗатратИзносаОС', N'ЕСЛИ((Параметр 1 >= 111) И (Параметр 1 <= 117), 83200, ЕСЛИ((Параметр 1 >= 121) И (Параметр 1 <= 127), 83300, 83100))', N'IF((#op1# >= 111) AND (#op1# <= 117), 83200, IF((#op1# >= 121) AND (#op1# <= 127), 83300, 83100))', N'', N'', N'', N'', N'Возвращает код затратного счета 8 класса для износа необоротных активов. Параметр 1 - функция, возвращающая код категории ОС', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_СчетЗатратОС', N'БДПОИСК(GAccID, ''r_AssetH'',''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC'')', N'БДПОИСК(GAccID, ''r_AssetH'',''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC'')', N'', N'', N'', N'', N'Возвращает код счета затрат 9 класса для данного ОС', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_СчетЗатратТМЦ', N'ЕСЛИ((Параметр 1 = 209) ИЛИ ((Параметр 1 >= 201) И (Параметр 1 <= 205)), (Параметр 1 + 600) * 100, ЕСЛИ((Параметр 1 = 207) ИЛИ (Параметр 1 = 208), (Параметр 1 + 599) * 100, ЕСЛИ(Параметр 1 = 281, 80800, 80900)))', N'IF((#op1# = 209) OR ((#op1# >= 201) AND (#op1# <= 205)), (#op1# + 600) * 100, IF((#op1# = 207) OR (#op1# = 208), (#op1# + 599) * 100, IF(#op1# = 281, 80800, 80900)))', N'', N'', N'', N'', N'Возвращает счет затрат 8 класса на списание различных видов ТМЦ. В качестве параметра 1 следует передать функцию, возвращающую код бухгалтерской категории ТМЦ', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_СчетИзносаОС', N'ЕСЛИ((Параметр 1 >= 111) И (Параметр 1 <= 117), 13200, ЕСЛИ((Параметр 1 >= 121) И (Параметр 1 <= 127), 13300, 13100))', N'IF((#op1# >= 111) AND (#op1# <= 117), 13200, IF((#op1# >= 121) AND (#op1# <= 127), 13300, 13100))', N'', N'', N'', N'', N'Возвращает счет начисления износа ОС, НМА и прочих нематериальных активов. Параметр 1 - функция, возвращающая код категории ОС', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_СчетКапИнвестиций', N'БДПОИСК(r_AssetC.Notes, ''r_AssetC'' + '','' + ''r_AssetH'',''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.ACatID = r_AssetC.ACatID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC'')', N'БДПОИСК(r_AssetC.Notes, ''r_AssetC'' + '','' + ''r_AssetH'',''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.ACatID = r_AssetC.ACatID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC'')', N'', N'', N'', N'', N'Возвращает код счета капитальных инвестиций на приобретение основных средств в зависимости от их категории', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_СчетОС', N'БДПОИСК(r_AssetH.ACatID, r_AssetH,''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC'') * 100', N'БДПОИСК(r_AssetH.ACatID, r_AssetH,''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC'') * 100', N'', N'', N'', N'', N'Возвращает счет учета данного объекта необоротных активов', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_СчетТМЦ', N'ЕСЛИ((Параметр 1 = 281) ИЛИ (Параметр 1 = 0), ЕСЛИ(БДПОИСК(Оптовый, ''Справочник складов'', Справочник складов.Код склада = Код склада) <> 0, 28100, 28200), Параметр 1 * 100)', N'IF((#op1# = 281) OR (#op1# = 0), IF(БДПОИСК(IsWholesale, ''r_Stocks'', r_Stocks.StockID = CurrentDS.StockID) <> 0, 28100, 28200), #op1# * 100)', N'', N'', N'', N'', N'Возвращает код бухгалтерской категории ТМЦ. В качестве Параметра 1 необходимо передавать функцию, возвращающую код бухгалтерской категории ТМЦ', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_ТипНеоборАктива', N'ЕСЛИ((БУ_КодКатегорииОС(0, 0, 0) >= 101) И (БУ_КодКатегорииОС(0, 0, 0) <= 109), 1, ЕСЛИ((БУ_КодКатегорииОС(0, 0, 0) >= 111) И (БУ_КодКатегорииОС(0, 0, 0) <= 117), 2, ЕСЛИ((БУ_КодКатегорииОС(0, 0, 0) >= 121) И (БУ_КодКатегорииОС(0, 0, 0) <= 127), 3, 0)))', N'IF((БУ_КОДКАТЕГОРИИОС(0, 0, 0) >= 101) AND (БУ_КОДКАТЕГОРИИОС(0, 0, 0) <= 109), 1, IF((БУ_КОДКАТЕГОРИИОС(0, 0, 0) >= 111) AND (БУ_КОДКАТЕГОРИИОС(0, 0, 0) <= 117), 2, IF((БУ_КОДКАТЕГОРИИОС(0, 0, 0) >= 121) AND (БУ_КОДКАТЕГОРИИОС(0, 0, 0) <= 127), 3, 0)))', N'', N'', N'', N'', N'Возвращает 1, если необоротный актив является ОС, 2 - если прочим необоротным активом и 3 - если нематериальным активом', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_ЦенаПродажиОсновная', N'БДПОИСК(Справочник товаров (Цены для прайс-листов).Цена ОВ, Справочник товаров (Цены для прайс-листов), Справочник товаров (Цены для прайс-листов).Код товара = Код товара И Справочник товаров (Цены для прайс-листов).Код прайс-листа = Параметр 1) * 1.2', N'БДПОИСК(r_ProdMP.PriceMC, r_ProdMP, r_ProdMP.ProdID = CurrentDS.ProdID AND r_ProdMP.PLID = #op1#) * 1.2', N'', N'', N'', N'', N'Возвращает цену продажи с НДС из прайс-листа, код которого вводится в Параметр 1. Это - тот прайс-лист, по которому была начислена торговая наценка. Функция предназначена для корректного списания торговой наценки в розничной торговле.', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_ЦенаРеализацииКЦП', N'ЕСЛИ(БДПОИСК(Справочник товаров.Цена включает НДС, Справочник товаров, Справочник товаров.Код товара = Код товара) = 0, БДПОИСК(Справочник товаров (Цены прихода Бухгалтерии).Цена ОВ, Справочник товаров (Цены прихода Бухгалтерии), Справочник товаров (Цены ', N'IF(БДПОИСК(r_Prods.PriceWithTax, r_Prods, r_Prods.ProdID = CurrentDS.ProdID) = 0, БДПОИСК(b_PInP.PriceMC, b_PInP, b_PInP.ProdID = CurrentDS.ProdID AND b_PInP.PPID = CurrentDS.PPID) * (1 + БУ_СТАВКАНДС(0, 0, 0)), БДПОИСК(b_PInP.PriceMC, b_PInP, b_PInP.Prod', N'прихода Бухгалтерии).Код товара = Код товара И Справочник товаров (Цены прихода Бухгалтерии).КЦП = КЦП) * (1 + БУ_СтавкаНДС(0, 0, 0)), БДПОИСК(Справочник товаров (Цены прихода Бухгалтерии).Цена ОВ, Справочник товаров (Цены прихода Бухгалтерии), Справочник', N'ID = CurrentDS.ProdID AND b_PInP.PPID = CurrentDS.PPID))', N' товаров (Цены прихода Бухгалтерии).Код товара = Код товара И Справочник товаров (Цены прихода Бухгалтерии).КЦП = КЦП))', N'', N'Возвращает цену реализации с НДС из КЦП', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'БУ_ЦенаРеализацииНоваяКЦП', N'ЕСЛИ(БДПОИСК(Справочник товаров.Цена включает НДС, Справочник товаров, Справочник товаров.Код товара = Код товара) = 0, БДПОИСК(Справочник товаров (Цены прихода Бухгалтерии).Цена ОВ, Справочник товаров (Цены прихода Бухгалтерии), Справочник товаров (Цены ', N'IF(БДПОИСК(r_Prods.PriceWithTax, r_Prods, r_Prods.ProdID = CurrentDS.ProdID) = 0, БДПОИСК(b_PInP.PriceMC, b_PInP, b_PInP.ProdID = CurrentDS.ProdID AND b_PInP.PPID = CurrentDS.NewPPID) * (1 + БУ_СТАВКАНДС(0, 0, 0)), БДПОИСК(b_PInP.PriceMC, b_PInP, b_PInP.P', N'прихода Бухгалтерии).Код товара = Код товара И Справочник товаров (Цены прихода Бухгалтерии).КЦП = Новый КЦП) * (1 + БУ_СтавкаНДС(0, 0, 0)), БДПОИСК(Справочник товаров (Цены прихода Бухгалтерии).Цена ОВ, Справочник товаров (Цены прихода Бухгалтерии), Спра', N'rodID = CurrentDS.ProdID AND b_PInP.PPID = CurrentDS.NewPPID))', N'вочник товаров (Цены прихода Бухгалтерии).Код товара = Код товара И Справочник товаров (Цены прихода Бухгалтерии).КЦП = Новый КЦП))', N'', N'Возвращает цену реализации с НДС из новой КЦП', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'ЗК_ЗарплатаПоПриказу', N'ЗК_ПараметрыСотрудника(Служащий, ДатуВСтроку(НЗ_ЗК_ДатаТекущегоКС(), 0), ВСТРОКУ(Фирма) + '';12'') * (ЗК_ПараметрыСотрудника(Служащий, ДатуВСтроку(НЗ_ЗК_ДатаТекущегоКС(), 0), ВСТРОКУ(Фирма) + '';13'')/100) * ЗК_ПараметрыСотрудника(Служащий,ДатуВСтроку(НЗ_ЗК_', N'ЗК_ПараметрыСотрудника(CurrentDS.EmpID, ДатуВСтроку(НЗ_ЗК_ДатаТекущегоКС(), 0), STR(CurrentDS.OurID) + '';12'') * (ЗК_ПараметрыСотрудника(CurrentDS.EmpID, ДатуВСтроку(НЗ_ЗК_ДатаТекущегоКС(), 0), STR(CurrentDS.OurID) + '';13'') / 100) *ЗК_ПараметрыСотрудника(', N'ДатаТекущегоКС(), 0), ВСТРОКУ(Фирма) + '';16'')', N'CurrentDS.EmpID, ДатуВСтроку(НЗ_ЗК_ДатаТекущегоКС(), 0), STR(CurrentDS.OurID) + '';16'')', N'', N'', NULL, NULL, NULL, NULL, 0)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_Алименты', N'ЕСЛИ(СОДЕРЖИТ(Код вида выплаты, КЗ_СписокАлименты(0, 0, 0)), 1, 0)', N'IF(СОДЕРЖИТ(CurrentDS.PayTypeID, КЗ_СПИСОКАЛИМЕНТЫ(0, 0, 0)), 1, 0)', N'', N'', N'', N'', N'Если удерживаемая сумма относится к алиментам, возвращает 1, иначе возвращает 0. Для использования в документе "Начисление заработной платы" (модуль "Кадры и Зарплата").', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_БольничныеОтПредприятия', N'ЕСЛИ(СОДЕРЖИТ(Код вида выплаты, КЗ_СписокБольничныеОтПредприятия(0, 0, 0)), 1, 0)', N'IF(СОДЕРЖИТ(CurrentDS.PayTypeID, КЗ_СПИСОКБОЛЬНИЧНЫЕОТПРЕДПРИЯТИЯ(0, 0, 0)), 1, 0)', N'', N'', N'', N'', N'Если начисляемая сумма относится к больничным или компенсациям за счет предприятия, возвращает 1, иначе 0. Для использования в документе "Начисление заработной платы" (модуль "Кадры и Зарплата").', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_БольничныеОтСоцстраха', N'ЕСЛИ(СОДЕРЖИТ(Код вида выплаты, КЗ_СписокБольничныеОтСоцстраха(0, 0, 0)), 1, 0)', N'IF(СОДЕРЖИТ(CurrentDS.PayTypeID, КЗ_СПИСОКБОЛЬНИЧНЫЕОТСОЦСТРАХА(0, 0, 0)), 1, 0)', N'', N'', N'', N'', N'Если начисляемая сумма относится к больничным или компенсациям за счет фонда социального страхования, возвращает 1, иначе 0. Для использования в документе "Начисление заработной платы" (модуль "Кадры и Зарплата").', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_ЕСВ_ВН', N'ЕСЛИ(СОДЕРЖИТ(Код вида выплаты, КЗ_ЕСВ_СписокВН()), 1, 0) ', N'IF(СОДЕРЖИТ(CurrentDS.PayTypeID, КЗ_ЕСВ_СписокВН()), 1, 0)', N'', N'', N'', N'', N'Выплата является оплатой больничных', NULL, NULL, NULL, 1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_ЕСВ_ДВР', N'ЕСЛИ(СОДЕРЖИТ(Код вида выплаты, КЗ_ЕСВ_СписокДВР()), 1, 0)', N'IF(СОДЕРЖИТ(CurrentDS.PayTypeID, КЗ_ЕСВ_СписокДВР()), 1, 0)', N'', N'', N'', N'', N'Выплата является оплатой договоров выполнения работ', NULL, NULL, NULL, 1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_ЕСВ_ФОП', N'ЕСЛИ(СОДЕРЖИТ(Код вида выплаты, КЗ_ЕСВ_СписокФОП()), 1, 0)', N'IF(СОДЕРЖИТ(CurrentDS.PayTypeID, КЗ_ЕСВ_СписокФОП()), 1, 0)', N'', N'', N'', N'', N'Выплата является основной заработной платой', NULL, NULL, NULL, 1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_Инвалид', N'ЗК_ПараметрыСотрудника(Кодслужащего,ДатуВСтроку(НЗ_ЗК_ДатаТекущегоКС(), 0), ВСТРОКУ(Код фирмы) + '';21'')', N'ЗК_ПАРАМЕТРЫСОТРУДНИКА(CurrentDS.EmpID, ДатуВСтроку(НЗ_ЗК_ДатаТекущегоКС(), 0), STR(CurrentDS.OurID) + '';21'')', N'', N'', N'', N'', N'Содрудник являетсяинвалидом', NULL, NULL, NULL, 1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_КатегорияПерсонала', N'КЗ_КатегорияПерсоналаВнутренняя(ЗК_ПараметрыСотрудника(Код служащего, ДатуВСтроку(Дата, 0), ВСТРОКУ(Код фирмы) + '';5''), 0, 0)', N'КЗ_КАТЕГОРИЯПЕРСОНАЛАВНУТРЕННЯЯ(ЗК_ПараметрыСотрудника(CurrentDS.EmpID, ДатуВСтроку(CurrentDS.DocDate, 0), STR(CurrentDS.OurID) + '';5''), 0, 0)', N'', N'', N'', N'', N'Возвращает код категории персонала из справочника должностей (по умолчанию равен коду счета затрат)', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_КатегорияПерсоналаВнутренняя', N'БДПОИСК(Код категории должности, ''Справочник должностей'', Справочник должностей.Код должности = Параметр 1)', N'БДПОИСК(PostCID, ''r_Posts'', r_Posts.PostID = #op1#)', N'', N'', N'', N'', N'Служебная функция для внутреннего использования', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_КомпенсационныеВыплаты', N'ЕСЛИ(СОДЕРЖИТ(Код вида выплаты, КЗ_СписокКомпенсационныеВыплаты(0, 0, 0)), 1, 0)', N'IF(СОДЕРЖИТ(CurrentDS.PayTypeID, КЗ_СПИСОККОМПЕНСАЦИОННЫЕВЫПЛАТЫ(0, 0, 0)), 1, 0)', N'', N'', N'', N'', N'Если начисляемая сумма относится к компенсационным выплатам, возвращает 1, иначе возвращает 0. Для использования в документе "Начисление заработной платы" (модуль "Кадры и Зарплата").', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_МатериальнаяПомощь', N'ЕСЛИ(СОДЕРЖИТ(Код вида выплаты, КЗ_СписокМатериальнаяПомощь(0, 0, 0)), 1, 0)', N'IF(СОДЕРЖИТ(CurrentDS.PayTypeID, КЗ_СПИСОКМАТЕРИАЛЬНАЯПОМОЩЬ(0, 0, 0)), 1, 0)', N'', N'', N'', N'', N'Если начисляемая сумма относится к материальной помощи, возвращает 1, иначе возвращает 0. Для использования в документе "Начисление заработной платы" (модуль "Кадры и Зарплата").', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_Недостачи', N'ЕСЛИ(СОДЕРЖИТ(Код вида выплаты, КЗ_СписокНедостачи(0, 0, 0)), 1, 0)', N'IF(СОДЕРЖИТ(CurrentDS.PayTypeID, КЗ_СПИСОКНЕДОСТАЧИ(0, 0, 0)), 1, 0)', N'', N'', N'', N'', N'Если удерживаемая сумма относится к выплате компенсации за недостачу, возвращает 1, иначе возвращает 0. Для использования в документе "Начисление заработной платы" (модуль "Кадры и Зарплата").', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_НесчастныйСлучай', N'ЕСЛИ(СОДЕРЖИТ(Код вида выплаты, КЗ_СписокНесчастныйСлучай(0, 0, 0)), 1, 0)', N'IF(СОДЕРЖИТ(CurrentDS.PayTypeID, КЗ_СПИСОКНЕСЧАСТНЫЙСЛУЧАЙ(0, 0, 0)), 1, 0)', N'', N'', N'', N'', N'Если начисляемая сумма относится к компенсациям за несчастный случай, возвращает 1, иначе 0. Для использования в документе "Начисление заработной платы" (модуль "Кадры и Зарплата").', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_ОсновнаяЗП', N'ЕСЛИ(СОДЕРЖИТ(Код вида выплаты, КЗ_СписокОсновнаяЗП(0, 0, 0)), 1, 0)', N'IF(СОДЕРЖИТ(CurrentDS.PayTypeID, КЗ_СПИСОКОСНОВНАЯЗП(0, 0, 0)), 1, 0)', N'', N'', N'', N'', N'Если начисляемая сумма относится к основному фонду заработной платы, возвращает 1, иначе возвращает 0. Для использования в документе "Начисление заработной платы" (модуль "Кадры и Зарплата").', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_Отпускные', N'ЕСЛИ(СОДЕРЖИТ(Код вида выплаты, КЗ_СписокОтпускные(0, 0, 0)), 1, 0)', N'IF(СОДЕРЖИТ(CurrentDS.PayTypeID, КЗ_СПИСОКОТПУСКНЫЕ(0, 0, 0)), 1, 0)', N'', N'', N'', N'', N'Если начисляемая сумма относится к отпускным, возвращает 1, иначе возвращает 0. Для использования в документе "Начисление заработной платы" (модуль "Кадры и Зарплата").', N'', N'', N'', 0)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_ПерерасчетПодоходногоДоплата', N'1004', N'1004', N'', N'', N'', N'', N'Возвращает код вида выплаты/удержания, который используется при перерасчете подоходного налога, в случае если служащему возвращается излишне удержанный подоходный налог', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_ПерерасчетПодоходногоУдержание', N'1005', N'1005', N'', N'', N'', N'', N'Возвращает код вида выплаты/удержания, который используется при перерасчете подоходного налога, в случае если со служащего дополнительно удерживается подоходный налог', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_ПремииПоощрения', N'ЕСЛИ(СОДЕРЖИТ(Код вида выплаты, КЗ_СписокПремииПоощрения(0, 0, 0)), 1, 0)', N'IF(СОДЕРЖИТ(CurrentDS.PayTypeID, КЗ_СПИСОКПРЕМИИПООЩРЕНИЯ(0, 0, 0)), 1, 0)', N'', N'', N'', N'', N'Если сумма относится к выплате премий и поощрений, возвращает 1, иначе возвращает 0. Для использования в документе "Начисление заработной платы" (модуль "Кадры и Зарплата")', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_Профвзносы', N'ЕСЛИ(СОДЕРЖИТ(Код вида выплаты, КЗ_СписокПрофвзносы(0, 0, 0)), 1, 0)', N'IF(СОДЕРЖИТ(CurrentDS.PayTypeID, КЗ_СПИСОКПРОФВЗНОСЫ(0, 0, 0)), 1, 0)', N'', N'', N'', N'', N'Если удерживаемая сумма относится к профвзносам, возвращает 1, иначе возвращает 0. Для использования в документе "Начисление заработной платы" (модуль "Кадры и Зарплата").', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_РанееНачислено', N'БДПроцедура(''p_PrevPaid'',ДатуВСтроку(CurrentDS.DocDate, 0) +  '';'' + ВСтроку(CurrentDS.OurID) + '';''+ ВСтроку(CurrentDS.LRecType) + '';''+ ВСтроку(CurrentDS.EmpID) +'';''+ВСтроку(CurrentDS.DetSubID)+'';''+ВСтроку(CurrentDS.DetDepID)+'';''+ВСтроку(CurrentDS.SubID)', N'БДПроцедура(''p_PrevPaid'',  ДатуВСтроку(CurrentDS.DocDate, 0) +  '';'' + STR(CurrentDS.OurID) + '';''+ STR(CurrentDS.LRecType) + '';''+ STR(CurrentDS.EmpID)+'';''+STR(CurrentDS.DetSubID)+'';''+STR(CurrentDS.DetDepID)+'';''+STR(CurrentDS.SubID)+'';''+STR(CurrentDS.DepID', N'+'';''+STR(CurrentDS.DepID) + '';'' + ВСтроку(CurrentDS.PayTypeID)+'';''+ Параметр 1, ''@RetValue'')', N') + '';'' + STR(CurrentDS.PayTypeID)+'';''+ #op1#, ''@RetValue'')', N'', N'', N'Возвращает суммы начисленные в документах Заработная плата: начисление с типом Начисление аванса и Начисление отпускных по указанному в параметре полю', NULL, NULL, NULL, 1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_Совместитель', N'ЗК_ПараметрыСотрудника(Служащий,ДатуВСтроку(НЗ_ЗК_ДатаТекущегоКС(), 0), ВСтроку(Фирма) + '';17'')', N'ЗК_ПараметрыСотрудника(CurrentDS.EmpID, ДатуВСтроку(НЗ_ЗК_ДатаТекущегоКС(), 0), STR(CurrentDS.OurID) + '';17'')', N'', N'', N'', N'', NULL, NULL, NULL, NULL, 1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_Ссуды', N'ЕСЛИ(СОДЕРЖИТ(Код вида выплаты, КЗ_СписокСсуды(0, 0, 0)), 1, 0)', N'IF(СОДЕРЖИТ(CurrentDS.PayTypeID, КЗ_СПИСОКССУДЫ(0, 0, 0)), 1, 0)', N'', N'', N'', N'', N'Если удерживаемая сумма относится к выплате ссуд, возвращает 1, иначе возвращает 0. Для использования в документе "Начисление заработной платы" (модуль "Кадры и Зарплата").', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_СуммаВыходногоПособия', N'Средний оклад для сохранения его в течении периода * ЕСЛИ(Код причины увольнения = Изменение организации производства и труда,1,ЕСЛИ(Код причины увольнения = Восстановление работника, ранее выполнявшего эту работу,1,ЕСЛИ(Код причины увольнения = Отказ', N'CurrentDS.AvrSalPres * IF(CurrentDS.DisReason = 401, 1, IF(CurrentDS.DisReason = 406, 1, IF(CurrentDS.DisReason = 366, 1, IF(CurrentDS.DisReason = 363, 2, 0))))', N' от перевода вместе с предприятием, 1, ЕСЛИ(Код причины увольнения = Призыв на воинскую службу, 2, 0)) ', N'', N'', N'', N'Возвращает сумму выходного пособия в документе Приказ: Увольнение', NULL, NULL, NULL, 1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'КЗ_СчетЗатратЗарплаты', N'ЗК_ПараметрыСотрудника(Код служащего, ДатуВСтроку(Дата, 0), ВСТРОКУ(Код фирмы) + '';40'')', N'ЗК_ПараметрыСотрудника(CurrentDS.EmpID, ДатуВСтроку(CurrentDS.DocDate, 0), STR(CurrentDS.OurID) + '';40'')', N'', N'', N'', N'', N'Возвращает код счета затрат для категории персонала, код которой должен передаваться как Параметр 1', N'', N'', N'', 0)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'НЗ_ЗК_ЧастныйПредприниматель', N'0', N'0', N'', N'', N'', N'', NULL, NULL, NULL, NULL, 1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'НУ_ЗатратыНаОС', N'ЕСЛИ((БУ_ТипНеоборАктива(0, 0, 0) <> 2) И (БУ_ПроизводственноеОС(0, 0, 0) = 1), ЕСЛИ((БУ_КодКатегорииОС(0, 0, 0) <> 107) И (БУ_КодКатегорииОС(0, 0, 0) <> 108), ПараметрыОС(Код ОС, ДатуВСтроку(Дата, 0), ВСТРОКУ(Код фирмы) + '';10''), 0), (ПараметрыОС(Код О', N'IF((БУ_ТИПНЕОБОРАКТИВА(0, 0, 0) <> 2) AND (БУ_ПРОИЗВОДСТВЕННОЕОС(0, 0, 0) = 1), IF((БУ_КОДКАТЕГОРИИОС(0, 0, 0) <> 107) AND (БУ_КОДКАТЕГОРИИОС(0, 0, 0) <> 108), ПараметрыОС(CurrentDS.AssID, ДатуВСтроку(CurrentDS.DocDate, 0), STR(CurrentDS.OurID) + '';10'')', N'С, ДатуВСтроку(Дата, 0), ВСТРОКУ(Код фирмы) + '';1'') + ПараметрыОС(Код ОС, ДатуВСтроку(Дата, 0), ВСТРОКУ(Код фирмы) + '';5'') + ПараметрыОС(Код ОС, ДатуВСтроку(Дата, 0), ВСТРОКУ(Код фирмы) + '';6'')))', N', 0), (ПараметрыОС(CurrentDS.AssID, ДатуВСтроку(CurrentDS.DocDate, 0), STR(CurrentDS.OurID) + '';1'') + ПараметрыОС(CurrentDS.AssID, ДатуВСтроку(CurrentDS.DocDate, 0), STR(CurrentDS.OurID) + '';5'') + ПараметрыОС(CurrentDS.AssID, ДатуВСтроку(CurrentDS.Doc', N'', N'Date, 0), STR(CurrentDS.OurID) + '';6'')))', N'Для производственных ОС и НМА возвращает балансовую стоимость (НУ), для скота и зеленых насаждений - 0, для непроизводственных и прочих - сумму первоначальной стоимости, ремонтов и модернизаций.', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'НУ_КодГруппыОС', N'БДПОИСК(AGrID, ''r_AssetH'',''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC'')', N'БДПОИСК(AGrID, ''r_AssetH'',''r_AssetH.AssID = CurrentDS.AssID AND r_AssetH.BDate <= '' + ДАТУВСТРОКУ(CurrentDS.DocDate, 1) + '' ORDER BY BDate DESC'')', N'', N'', N'', N'', N'Возвращает код группы основного средства в налоговом учете', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'НУ_НДСОтгрузки', N'ЕСЛИ(((Счет документа >= 36100) И (Счет документа <= 36199) И (НДС сальдо документа >= 0)) ИЛИ ((Счет документа >= 37700) И (Счет документа <= 37799) И (НДС сальдо документа <= 0)), 0, МОДУЛЬЧИСЛА(НДС сальдо документа))', N'IF(((CurrentDS.GTAccID >= 36100) AND (CurrentDS.GTAccID <= 36199) AND (CurrentDS.GTTaxSum >= 0)) OR ((CurrentDS.GTAccID >= 37700) AND (CurrentDS.GTAccID <= 37799) AND (CurrentDS.GTTaxSum <= 0)), 0, МОДУЛЬЧИСЛА(CurrentDS.GTTaxSum))', N'', N'', N'', N'', N'Возвращает сумму НДС на предварительно отгруженный товар', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'НУ_ПризнакВД', N'ЕСЛИ((Код признака 5 = 1) ИЛИ (Код признака 5 = 0), 1, 0)', N'IF((CurrentDS.CodeID5 = 1) OR (CurrentDS.CodeID5 = 0), 1, 0)', N'', N'', N'', N'', N'Возвращает 1, если необходимо отразить некую сумму в валовых доходах, и 0, если не нужно', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'НУ_ПризнакВР', N'ЕСЛИ((Код признака 5 = 2) ИЛИ (Код признака 5 = 0), 1, 0)', N'IF((CurrentDS.CodeID5 = 2) OR (CurrentDS.CodeID5 = 0), 1, 0)', N'', N'', N'', N'', N'Возвращает 1, если нужно отразить некую сумму в валовых расходах, и 0, если не нужно', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'НУ_ПС_ВДВР', N'ЕСЛИ(Параметр 1 <= 0, Параметр 2, ЕСЛИ(Параметр 1 >= Параметр 2, 0, (Параметр 2 - Параметр 1)))', N'IF(#op1# <= 0, #op2#, IF(#op1# >= #op2#, 0, (#op2# - #op1#)))', N'', N'', N'', N'', N'Возвращает сумму валовых доходов или расходов по первому событию. Параметр 1 - сальдо по счету взаиморасчетов без НДС, параметр 2 - сумма валовых доходов или расходов', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'НУ_СуммаОтгрузки', N'ЕСЛИ(((Счет документа >= 36100) И (Счет документа <= 36199) И (Сальдо документа, с НДС >= 0)) ИЛИ ((Счет документа >= 37700) И (Счет документа <= 37799) И (Сальдо документа, с НДС <= 0)), 0, МОДУЛЬЧИСЛА(Сальдо документа, с НДС))', N'IF(((CurrentDS.GTAccID >= 36100) AND (CurrentDS.GTAccID <= 36199) AND (CurrentDS.GTSum_wt >= 0)) OR ((CurrentDS.GTAccID >= 37700) AND (CurrentDS.GTAccID <= 37799) AND (CurrentDS.GTSum_wt <= 0)), 0, МОДУЛЬЧИСЛА(CurrentDS.GTSum_wt))', N'', N'', N'', N'', N'Возвращает сумму предварительно отгруженного покупателю товара', N'', N'', N'', -1)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'НУ_СчетАмортизацииОС', N'БДПОИСК(Счет ОС: Аммортизация, ''Справочник основных средств: группы'', Справочник основных средств: группы.Код группы ОС = Параметр 1)', N'БДПОИСК(AssDepGAccID, ''r_AssetG'',  r_AssetG.AGrID = #op1#) ', N'', N'', N'', N'', N'Возвращает забалансовый счет для накопления амортизации основных средств по группам. Параметр 1 - функция, возвращающая код группы основного средства', N'', N'', N'', 0)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'НУ_СчетГруппыОС', N'БДПОИСК(Счет ОС: Группа, ''Справочник основных средств: группы'', Справочник основных средств: группы.Код группы ОС = Параметр 1)', N'БДПОИСК(AssGrGAccID, ''r_AssetG'',  r_AssetG.AGrID = #op1#)', N'', N'', N'', N'', N'Возвращает код счета балансовой стоимости ОС в налоговом учете в зависимости от группы ОС. Параметр 1 - функция, возвращающая код группы ОС.', N'', N'', N'', 0)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'ПСВС_ВС', N'ЕСЛИ(Параметр 1 <= 0, 0, ЕСЛИ(Параметр 2 <= Параметр 1, Параметр 2, Параметр 1))', N'IF(#op1# <= 0, 0, IF(#op2# <= #op1#, #op2#, #op1#))', NULL, NULL, NULL, NULL, N'Возвращает сумму 2-го события', NULL, NULL, NULL, 0)
INSERT INTO [dbo].[z_FRUDFs] ([OperName], [RFormula], [EFormula], [RFormula1], [EFormula1], [RFormula2], [EFormula2], [OperDesc], [ArgDesc1], [ArgDesc2], [ArgDesc3], [RevID]) VALUES (N'ПСВС_ПС', N'ЕСЛИ(Параметр 1 <= 0, Параметр 2, ЕСЛИ(Параметр 2 <= Параметр 1, 0, Параметр 2 - Параметр 1))', N'IF(#op1# <= 0, #op2#, IF(#op2# <= #op1#, 0, #op2# - #op1#))', NULL, NULL, NULL, NULL, N'Возвращает сумму 1-го события', NULL, NULL, NULL, 0)
